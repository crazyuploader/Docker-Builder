version: v1.0
name: Docker
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
  - name: Kernel Builder
    dependencies: []
    task:
      jobs:
        - name: Build Dockerfile
          commands:
            - checkout
            - 'docker build -f kernel_build/Dockerfile -t crazyuploader/kernel_build:latest .'
            - docker images
  - name: Python Build Tools
    dependencies: []
    task:
      jobs:
        - name: Build Dockerfile
          commands:
            - checkout
            - 'docker build -f python_build_tools/Dockerfile -t crazyuploader/python_build_tools:latest .'
            - docker images
  - name: Java Build Tools
    dependencies: []
    task:
      jobs:
        - name: Build Dockerfile
          commands:
            - checkout
            - 'docker build -f java_build_tools/Dockerfile -t crazyuploader/java_build_tools:latest .'
            - docker images
  - name: Android SDK
    dependencies: []
    task:
      jobs:
        - name: Build Dockerfile
          commands:
            - checkout
            - 'docker build -f android_sdk/Dockerfile -t crazyuploader/android_sdk:latest .'
            - docker images
  - name: Android SDK with Flutter
    dependencies: []
    task:
      jobs:
        - name: Build Dockerfile
          commands:
            - checkout
            - 'docker build -f android_sdk_flutter/Dockerfile -t crazyuploader/android_sdk_flutter:latest .'
            - docker images
  - name: CPP & C Build Tools
    dependencies: []
    task:
      jobs:
        - name: Build Dockerfile
          commands:
            - checkout
            - 'docker build -f cpp_build_tools/Dockerfile -t crazyuploader/cpp_build_tools:latest .'
            - docker images
